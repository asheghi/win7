var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,r,i)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,a=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))o.call(t,r)&&s(e,r,t[r]);return e};import{p as l,g as c,e as u,f,a as h,h as d}from"./index.48072050.js";import{I as p,J as m,K as g,L as v,M as y,N as w,O as C,P as b,p as L,o as x,c as F,x as P,b as M,n as k,a as E,t as S,w as j,q as $,l as O,T}from"./vendor.957100f5.js";var A={exports:{}};!function(e){var t=function(e){var t,r=Object.prototype,i=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch($){l=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var n=t&&t.prototype instanceof g?t:g,o=Object.create(n.prototype),s=new E(i||[]);return o._invoke=function(e,t,r){var i=f;return function(n,o){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===n)throw o;return j()}for(r.method=n,r.arg=o;;){var s=r.delegate;if(s){var a=P(s,r);if(a){if(a===m)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=d;var l=u(e,t,r);if("normal"===l.type){if(i=r.done?p:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=p,r.method="throw",r.arg=l.arg)}}}(e,r,s),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch($){return{type:"throw",arg:$}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",m={};function g(){}function v(){}function y(){}var w={};l(w,o,(function(){return this}));var C=Object.getPrototypeOf,b=C&&C(C(S([])));b&&b!==r&&i.call(b,o)&&(w=b);var L=y.prototype=g.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function F(e,t){function r(n,o,s,a){var l=u(e[n],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==typeof f&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,a)}))}a(l.arg)}var n;this._invoke=function(e,i){function o(){return new t((function(t,n){r(e,i,t,n)}))}return n=n?n.then(o,o):o()}}function P(e,r){var i=e.iterator[r.method];if(i===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=u(i,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,m;var o=n.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function S(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}return{next:j}}function j(){return{value:t,done:!0}}return v.prototype=y,l(L,"constructor",y),l(y,"constructor",v),v.displayName=l(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,a,"GeneratorFunction")),e.prototype=Object.create(L),e},e.awrap=function(e){return{__await:e}},x(F.prototype),l(F.prototype,s,(function(){return this})),e.AsyncIterator=F,e.async=function(t,r,i,n,o){void 0===o&&(o=Promise);var s=new F(c(t,r,i,n),o);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(L),l(L,a,"Generator"),l(L,o,(function(){return this})),l(L,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(i,n){return a.type="throw",a.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:S(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}(A.exports);try{regeneratorRuntime=t}catch(r){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}();let z=!1,_=()=>{};var B={logging:z,setLogging:e=>{z=e},setCustomLogger:e=>{_=e},log:(e,t)=>{_({type:e,message:t}),z&&console.log(`[${e}] ${t}`)}};let R=0,I=0;const N=e=>{const[t,r,i]=e.split(":");return 60*parseFloat(t)*60+60*parseFloat(r)+parseFloat(i)};var W={exports:{}};W.exports=function(){function e(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(t,r.firstChild);for(var i,n=document.createElement("a"),o=1;o<e;o++)n.href=arguments[o],i=n.href,t.href=i;return r.removeChild(t),i}return e}();var V={name:"@ffmpeg/ffmpeg",version:"0.10.1",description:"FFmpeg WebAssembly version",main:"src/index.js",types:"src/index.d.ts",directories:{example:"examples"},scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},browser:{"./src/node/index.js":"./src/browser/index.js"},repository:{type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},keywords:["ffmpeg","WebAssembly","video"],author:"Jerome Wu <jeromewus@gmail.com>",license:"MIT",bugs:{url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},engines:{node:">=12.16.1"},homepage:"https://github.com/ffmpegwasm/ffmpeg.wasm#readme",dependencies:{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},devDependencies:{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"}};const{devDependencies:Z}=V;var U={corePath:`https://unpkg.com/@ffmpeg/core@${Z["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`};const D=W.exports,{log:G}=B,K=async(e,t)=>{G("info",`fetch ${e}`);const r=await(await fetch(e)).arrayBuffer();G("info",`${e} file size = ${r.byteLength} bytes`);const i=new Blob([r],{type:t}),n=URL.createObjectURL(i);return G("info",`${e} blob URL = ${n}`),n};const Y=W.exports;var H={defaultOptions:U,getCreateFFmpegCore:async({corePath:e})=>{if("string"!=typeof e)throw Error("corePath should be a string!");const t=D(e),r=await K(t,"application/javascript"),i=await K(t.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),n=await K(t.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return"undefined"==typeof createFFmpegCore?new Promise((e=>{const t=document.createElement("script"),o=()=>{t.removeEventListener("load",o),G("info","ffmpeg-core.js script loaded"),e({createFFmpegCore:createFFmpegCore,corePath:r,wasmPath:i,workerPath:n})};t.src=r,t.type="text/javascript",t.addEventListener("load",o),document.getElementsByTagName("head")[0].appendChild(t)})):(G("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore:createFFmpegCore,corePath:r,wasmPath:i,workerPath:n}))},fetchFile:async e=>{let t=e;if(void 0===e)return new Uint8Array;if("string"==typeof e)if(/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e))t=atob(e.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const r=await fetch(Y(e));t=await r.arrayBuffer()}else(e instanceof File||e instanceof Blob)&&(t=await(r=e,new Promise(((e,t)=>{const i=new FileReader;i.onload=()=>{e(i.result)},i.onerror=({target:{error:{code:e}}})=>{t(Error(`File could not be read! Code=${e}`))},i.readAsArrayBuffer(r)}))));var r;return new Uint8Array(t)}};const{defaultArgs:q,baseOptions:J}={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},{setLogging:Q,setCustomLogger:X,log:ee}=B,te=(e,t)=>{if("string"==typeof e)if(e.startsWith("  Duration")){const r=e.split(", ")[0].split(": ")[1],i=N(r);t({duration:i,ratio:I}),(0===R||R>i)&&(R=i)}else if(e.startsWith("frame")||e.startsWith("size")){const r=e.split("time=")[1].split(" ")[0],i=N(r);I=i/R,t({ratio:I,time:i})}else e.startsWith("video:")&&(t({ratio:1}),R=0)},re=(e,t)=>{const r=e._malloc(t.length*Uint32Array.BYTES_PER_ELEMENT);return t.forEach(((t,i)=>{const n=e._malloc(t.length+1);e.writeAsciiToMemory(t,n),e.setValue(r+Uint32Array.BYTES_PER_ELEMENT*i,n,"i32")})),[t.length,r]},{defaultOptions:ie,getCreateFFmpegCore:ne}=H,{version:oe}=V,se=Error("ffmpeg.wasm is not ready, make sure you have completed load().");const ae=(e={})=>{const t=a(a(a({},J),ie),e),{log:r,logger:s,progress:l}=t,c=((e,t)=>{var r={};for(var s in e)n.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&i)for(var s of i(e))t.indexOf(s)<0&&o.call(e,s)&&(r[s]=e[s]);return r})(t,["log","logger","progress"]);let u=null,f=null,h=null,d=!1,p=l;const m=({type:e,message:t})=>{ee(e,t),te(t,p),(e=>{"FFMPEG_END"===e&&null!==h&&(h(),h=null,d=!1)})(t)};return Q(r),X(s),ee("info",`use ffmpeg.wasm v${oe}`),{setProgress:e=>{p=e},setLogger:e=>{X(e)},setLogging:Q,load:async()=>{if(ee("info","load ffmpeg-core"),null!==u)throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");{ee("info","loading ffmpeg-core");const{createFFmpegCore:e,corePath:t,workerPath:r,wasmPath:i}=await ne(c);u=await e({mainScriptUrlOrBlob:t,printErr:e=>m({type:"fferr",message:e}),print:e=>m({type:"ffout",message:e}),locateFile:(e,t)=>{if("undefined"!=typeof window){if(void 0!==i&&e.endsWith("ffmpeg-core.wasm"))return i;if(void 0!==r&&e.endsWith("ffmpeg-core.worker.js"))return r}return t+e}}),f=u.cwrap("proxy_main","number",["number","number"]),ee("info","ffmpeg-core loaded")}},isLoaded:()=>null!==u,run:(...e)=>{if(ee("info",`run ffmpeg command: ${e.join(" ")}`),null===u)throw se;if(d)throw Error("ffmpeg.wasm can only run one command at a time");return d=!0,new Promise((t=>{const r=[...q,...e].filter((e=>0!==e.length));h=t,f(...re(u,r))}))},exit:()=>{if(null===u)throw se;d=!1,u.exit(1),u=null,f=null,h=null},FS:(e,...t)=>{if(ee("info",`run FS.${e} ${t.map((e=>"string"==typeof e?e:`<${e.length} bytes binary file>`)).join(" ")}`),null===u)throw se;{let i=null;try{i=u.FS[e](...t)}catch(r){throw"readdir"===e?Error(`ffmpeg.FS('readdir', '${t[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`):"readFile"===e?Error(`ffmpeg.FS('readFile', '${t[0]}') error. Check if the path exists`):Error("Oops, something went wrong in FS operation.")}return i}}}},{fetchFile:le}=H;var ce={createFFmpeg:ae,fetchFile:le},ue="/win7/assets/play-normal.0a22a019.png",fe="/win7/assets/play-idle.307abb01.png",he="/win7/assets/play-hover.fe99dd04.png",de=/^\s+|\s+$/g,pe=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ge=/^0o[0-7]+$/i,ve=parseInt,ye="object"==typeof p&&p&&p.Object===Object&&p,we="object"==typeof self&&self&&self.Object===Object&&self,Ce=ye||we||Function("return this")(),be=Object.prototype.toString,Le=Math.max,xe=Math.min,Fe=function(){return Ce.Date.now()};function Pe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Me(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==be.call(e)}(e))return NaN;if(Pe(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Pe(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(de,"");var r=me.test(e);return r||ge.test(e)?ve(e.slice(2),r?2:8):pe.test(e)?NaN:+e}var ke=function(e,t,r){var i,n,o,s,a,l,c=0,u=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var r=i,o=n;return i=n=void 0,c=t,s=e.apply(o,r)}function p(e){return c=e,a=setTimeout(g,t),u?d(e):s}function m(e){var r=e-l;return void 0===l||r>=t||r<0||f&&e-c>=o}function g(){var e=Fe();if(m(e))return v(e);a=setTimeout(g,function(e){var r=t-(e-l);return f?xe(r,o-(e-c)):r}(e))}function v(e){return a=void 0,h&&i?d(e):(i=n=void 0,s)}function y(){var e=Fe(),r=m(e);if(i=arguments,n=this,l=e,r){if(void 0===a)return p(l);if(f)return a=setTimeout(g,t),d(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=Me(t)||0,Pe(r)&&(u=!!r.leading,o=(f="maxWait"in r)?Le(Me(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=n=a=void 0},y.flush=function(){return void 0===a?s:v(Fe())},y},Ee={},Se={},je={},$e=m(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}}));Object.defineProperty(je,"__esModule",{value:!0}),je.readFile=je.writeFileSync=je.writeFile=je.read=je.open=je.close=je.stat=je.createReadStream=je.pathExists=void 0;const Oe=$e;je.pathExists=Oe.existsSync,je.createReadStream=Oe.createReadStream,je.stat=async function(e){return new Promise(((t,r)=>{Oe.stat(e,((e,i)=>{e?r(e):t(i)}))}))},je.close=async function(e){return new Promise(((t,r)=>{Oe.close(e,(e=>{e?r(e):t()}))}))},je.open=async function(e,t){return new Promise(((r,i)=>{Oe.open(e,t,((e,t)=>{e?i(e):r(t)}))}))},je.read=async function(e,t,r,i,n){return new Promise(((o,s)=>{Oe.read(e,t,r,i,n,((e,t,r)=>{e?s(e):o({bytesRead:t,buffer:r})}))}))},je.writeFile=async function(e,t){return new Promise(((r,i)=>{Oe.writeFile(e,t,(e=>{e?i(e):r()}))}))},je.writeFileSync=function(e,t){Oe.writeFileSync(e,t)},je.readFile=async function(e){return new Promise(((t,r)=>{Oe.readFile(e,((e,i)=>{e?r(e):t(i)}))}))};var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.fromFile=Te.FileTokenizer=void 0;const Ae=g,ze=v,_e=je;class Be extends Ae.AbstractTokenizer{constructor(e,t){super(t),this.fd=e}async readBuffer(e,t){const r=this.normalizeOptions(e,t);this.position=r.position;const i=await _e.read(this.fd,e,r.offset,r.length,r.position);if(this.position+=i.bytesRead,i.bytesRead<r.length&&(!t||!t.mayBeLess))throw new ze.EndOfStreamError;return i.bytesRead}async peekBuffer(e,t){const r=this.normalizeOptions(e,t),i=await _e.read(this.fd,e,r.offset,r.length,r.position);if(!r.mayBeLess&&i.bytesRead<r.length)throw new ze.EndOfStreamError;return i.bytesRead}async close(){return _e.close(this.fd)}}Te.FileTokenizer=Be,Te.fromFile=async function(e){const t=await _e.stat(e);if(!t.isFile)throw new Error(`File not a file: ${e}`);const r=await _e.open(e,"r");return new Be(r,{path:e,size:t.size})},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromStream=e.fromBuffer=e.EndOfStreamError=e.fromFile=void 0;const t=je,r=y;var i=Te;Object.defineProperty(e,"fromFile",{enumerable:!0,get:function(){return i.fromFile}});var n=y;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return n.EndOfStreamError}}),Object.defineProperty(e,"fromBuffer",{enumerable:!0,get:function(){return n.fromBuffer}}),e.fromStream=async function(e,i){if(i=i||{},e.path){const r=await t.stat(e.path);i.path=e.path,i.size=r.size}return r.fromStream(e,i)}}(Se);var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.RandomFileReader=void 0;const Ie=$e;Re.RandomFileReader=class{constructor(e,t){this.fileSize=t,this.fd=Ie.openSync(e,"r")}randomRead(e,t,r,i){return new Promise(((n,o)=>{Ie.read(this.fd,e,t,r,i,((e,t)=>{e?o(e):n(t)}))}))}close(){Ie.closeSync(this.fd)}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ratingToStars=e.orderTags=e.parseFile=e.parseStream=e.selectCover=e.parseBuffer=e.parseFromTokenizer=void 0;const t=Se,r=w,i=b,n=C.exports,o=Re,s=n("music-metadata:parser");var a=w;Object.defineProperty(e,"parseFromTokenizer",{enumerable:!0,get:function(){return a.parseFromTokenizer}}),Object.defineProperty(e,"parseBuffer",{enumerable:!0,get:function(){return a.parseBuffer}}),Object.defineProperty(e,"selectCover",{enumerable:!0,get:function(){return a.selectCover}}),e.parseStream=async function(e,i,n={}){const o=await t.fromStream(e,"string"==typeof i?{mimeType:i}:i);return r.parseFromTokenizer(o,n)},e.parseFile=async function(e,n={}){s(`parseFile: ${e}`);const a=await t.fromFile(e),l=new o.RandomFileReader(e,a.fileInfo.size);try{await r.scanAppendingHeaders(l,n)}finally{l.close()}try{const t=i.ParserFactory.getParserIdForExtension(e);return t||s(" Parser could not be determined by file extension"),await i.ParserFactory.parse(a,t,n)}finally{await a.close()}},e.orderTags=r.orderTags,e.ratingToStars=r.ratingToStars}(Ee);ce.createFFmpeg({log:!1});const Ne=(We=a({inject:["$wm","$cnf","$fs"]},l({filePath:l.obj(null),wmId:l.any(),callbacks:l.any()})),t(We,r({mounted(){this.fetchMediaFile(),new ResizeObserver(this.debouncedResize).observe(this.$refs.container),this.registerKeyboardMouse()},data(){return{src:null,currentFile:this.filePath,loading:!0,siblings:[],imageHasListener:!1,PlayNormal:ue,PlayIdle:fe,PlayHover:he,PlayMuted:"/win7/assets/play-muted.61c75d18.png",Pause:"/win7/assets/pause.d952bbea.png",volume:1,fullScreen:!1,media:{},currentTime:0,playing:!1,seeking:!1,duration:1800,coverImage:null,lastVolume:null,formattedCurrentTime:"00:00",repeat:!0,shuffle:!1,title:"",album:"",debouncedResize:ke(this.onContainerResize,250),fileType:""}},async created(){this.callbacks.openFile=e=>{this.currentFile=e,this.fetchMediaFile()}},methods:{playNext(){this.nextFile&&(this.currentFile=this.nextFile,this.fetchMediaFile())},playPrev(){this.prevFile&&(this.currentFile=this.prevFile,this.fetchMediaFile())},async fetchMediaFile(){this.fileType=c(this.currentFile),this.loading=!0,this.src=null;try{const t=await u(this.currentFile),r=await f(t,{encode:"unit8array"}),i=this.$refs.audio;i.src=URL.createObjectURL(new Blob([r])),this.initMedia(),this.getMetaData(r);try{await i.play()}catch(e){console.error(e)}}catch(e){}finally{this.loading=!1}this.fetchSiblingFiles()},initMedia(){this.volume=this.$refs.audio.volume,this.$refs.audio.ontimeupdate=ke((()=>{!this.seeking&&this.$refs.audio&&(this.$refs.progress.value=this.$refs.audio.currentTime),this.formattedCurrentTime=d(this.$refs.audio.currentTime)}),500,{maxWait:500}),this.$refs.audio.onplay=()=>{this.playing=!0},this.$refs.audio.onpause=()=>{this.playing=!1},this.$refs.audio.onended=()=>{this.$refs.audio.currentTime=0,this.repeat&&this.$refs.audio.play()},this.$refs.audio.ondurationchange=()=>{this.duration=this.$refs.audio.duration}},seekTo(e){const t=+e;this.$refs.audio.seekable?this.$refs.audio.currentTime=t:console.error("cannot seek")},togglePlayPause(){this.$refs.audio.paused?this.$refs.audio.play():this.$refs.audio.pause()},async getMetaData(e){const t=(await Ee.parseBuffer(new Uint8Array(e))).common||{},r=t.picture||[];if(r[0]){const e=r[0];this.coverImage=URL.createObjectURL(new Blob([e.data]))}t.artist&&t.title?this.title=`${t.artist} - ${t.title}`:this.title=L.basename(this.currentFile),this.album=t.album,this.$wm.updateToolbarTitle(this.wmId,this.title)},onVolumeChange(e){this.$refs.audio.volume=+e.target.value,this.volume=this.$refs.audio.volume},onVolumeWheelMove(e){e.preventDefault(),e.deltaY<0?this.modifyVolume(!0):e.deltaY>0&&this.modifyVolume(!1)},toggleMute(){const e=this.$refs.audio;null===this.lastVolume&&(this.lastVolume=1),0!==e.volume&&(this.lastVolume=e.volume),e.volume=e.volume>0?0:this.lastVolume,this.volume=e.volume},onContainerResize(){this.$refs.container&&(this.containerWidth=this.$refs.container.clientWidth)},mediaPlayerClass(){let e="";return this.containerWidth<450?e+=" w-small ":this.containerWidth>=450&&this.containerWidth<580?e+=" w-medium ":e+=" w-large ",this.fullScreen&&(e+=" fullscreen "),e},async fetchSiblingFiles(){const e=await h(L.dirname(this.filePath));this.siblings=[];for(let t of e){const e=await c(t);["audio","video"].includes(e)&&this.siblings.push(t)}},registerKeyboardMouse(){this.$refs.wrapper.onkeydown=(e={})=>{const t=e.code;if(t){if("Space"===t&&this.togglePlayPause(),"Escape"===t&&this.fullScreen&&this.toggleFullscreen(),"KeyM"===t&&this.toggleMute(),"Enter"===t&&this.toggleFullscreen(),"KeyN"===t&&this.playNext(),"KeyP"===t&&this.playPrev(),"KeyS"===t&&(this.shuffle=!Boolean(this.shuffle)),"KeyR"===t&&(this.repeat=!Boolean(this.repeat)),"ArrowRight"===t){const e=this.getCurrentTime();this.seekTo(e+10)}if("ArrowLeft"===t){const e=this.getCurrentTime();this.seekTo(e-10)}"ArrowUp"===t&&this.modifyVolume(!0),"ArrowDown"===t&&this.modifyVolume(!1)}},this.$refs.wrapper.addEventListener("dragover",(e=>{e.preventDefault()}),{capture:!0}),this.$refs.wrapper.addEventListener("drop",(e=>{e.preventDefault();const t=event.dataTransfer.getData("text");if(t){const[e]=JSON.parse(t);this.callbacks.openFile(e)}}),{capture:!0})},toggleFullscreen(){this.fullScreen=!Boolean(this.fullScreen)},getCurrentTime(){return this.$refs.audio.currentTime},modifyVolume(e){const t=this.$refs.audio.volume;let r=this.$refs.audio.volume;r=e?t+.1:t-.1,r>1?r=1:r<0&&(r=0),this.$refs.audio.volume=r,this.volume=this.$refs.audio.volume}},style:({className:e})=>[e("player",{background:"#f1f3f4",width:"100%",padding:"15px 0"})],computed:{indexInSiblings(){let e=this.currentFile;return this.siblings.findIndex((t=>L.basename(t)===L.basename(e)))},nextFile(){if(!this.siblings||!this.siblings.length)return null;if(this.shuffle&&this.siblings.length>1){const e=this.siblings.filter((e=>e!==this.currentFile));return e[Math.floor(Math.random()*e.length)]}return this.indexInSiblings!==this.siblings.length-1?this.siblings[this.indexInSiblings+1]:this.siblings[0]},prevFile(){if(!this.siblings||!this.siblings.length)return null;if(this.shuffle&&this.siblings.length>1){const e=this.siblings.filter((e=>e!==this.currentFile));return e[Math.floor(Math.random()*e.length)]}return 0!==this.indexInSiblings?this.siblings[this.indexInSiblings-1]:this.siblings[this.siblings.length-1]},durationSeconds(){return this.$refs.audio.duration},mediaPlayerStyle:()=>({backgroundImage:'url("/win7/assets/wmp_12_wallpaper.b8f6bf64.jpg")',"--play-hover":`url("${he}")`,"--play-click":`url("${ue}")`,"--play-idle":`url("${fe}")`}),onStopClicked(){this.$refs.audio.pause(),this.$nextTick((()=>{this.$refs.audio.currentTime=0,this.$refs.progress.value="0"}))}}})));var We;const Ve={style:{width:"100%",height:"100%",position:"relative"},ref:"wrapper",tabIndex:"0"},Ze={class:"media-container",ref:"mediaCotainer"},Ue=["src"],De=M("div",{class:"shadow-controls"},null,-1),Ge={class:"controls"},Ke={class:"progress"},Ye=["max"],He={class:"rounded-left"},qe={class:"rounded"},Je={class:"left"},Qe=[M("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},[M("path",{d:"M 37.978516 4.9804688 A 2.0002 2.0002 0 0 0 36.585938 8.4140625 L 39.171875 11 L 35.484375 11 C 33.363729 11 31.327803 11.842739 29.828125 13.34375 L 12.34375 30.828125 C 11.591958 31.57925 10.576979 32 9.515625 32 L 4 32 A 2.0002 2.0002 0 1 0 4 36 L 9.515625 36 C 11.636271 36 13.671667 35.157078 15.171875 33.658203 A 2.0002 2.0002 0 0 0 15.171875 33.65625 L 32.65625 16.171875 A 2.0002 2.0002 0 0 0 32.658203 16.171875 C 33.408478 15.420886 34.423021 15 35.484375 15 L 39.171875 15 L 36.585938 17.585938 A 2.0002 2.0002 0 1 0 39.414062 20.414062 L 45.414062 14.414062 A 2.0002 2.0002 0 0 0 45.414062 11.585938 L 39.414062 5.5859375 A 2.0002 2.0002 0 0 0 37.978516 4.9804688 z M 4 11 C 2.9 11 2 11.9 2 13 C 2 14.1 2.9 15 4 15 L 9.4296875 15 C 10.519688 15 11.580078 15.450234 12.330078 16.240234 L 17.390625 21.539062 L 20.220703 18.710938 L 15.220703 13.480469 C 13.720703 11.900469 11.609687 11 9.4296875 11 L 4 11 z M 27.119141 25.949219 L 24.300781 28.769531 L 29.779297 34.519531 C 31.279297 36.099531 33.390313 37 35.570312 37 L 39.171875 37 L 36.585938 39.585938 A 2.0002 2.0002 0 1 0 39.414062 42.414062 L 45.414062 36.414062 A 2.0002 2.0002 0 0 0 45.414062 33.585938 L 39.414062 27.585938 A 2.0002 2.0002 0 0 0 37.978516 26.980469 A 2.0002 2.0002 0 0 0 36.585938 30.414062 L 39.171875 33 L 35.570312 33 C 34.480312 33 33.419922 32.549766 32.669922 31.759766 L 27.119141 25.949219 z"})],-1)],Xe=[M("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 26"},[M("path",{d:"M 13 0 C 5.839844 0 0 5.839844 0 13 C 0 20.164063 5.839844 26 13 26 C 19.554688 26 25 21.113281 25.875 14.78125 C 25.976563 14.238281 25.773438 13.679688 25.339844 13.332031 C 24.90625 12.984375 24.320313 12.90625 23.808594 13.125 C 23.300781 13.339844 22.953125 13.824219 22.90625 14.375 C 22.234375 19.246094 18.070313 23 13 23 C 7.460938 23 3 18.542969 3 13 C 3 7.460938 7.460938 3 13 3 C 16.234375 3 19.109375 4.535156 20.9375 6.90625 L 19.15625 8.6875 C 19.003906 8.839844 18.96875 9.078125 19.03125 9.28125 C 19.089844 9.484375 19.257813 9.613281 19.46875 9.65625 C 22.164063 10.1875 25.277344 9.953125 25.40625 9.9375 C 25.539063 9.921875 25.660156 9.839844 25.75 9.75 C 25.839844 9.660156 25.917969 9.570313 25.9375 9.4375 C 25.953125 9.308594 26.1875 6.167969 25.65625 3.46875 C 25.617188 3.261719 25.480469 3.09375 25.28125 3.03125 C 25.078125 2.96875 24.835938 3.007813 24.6875 3.15625 L 23.0625 4.78125 C 20.679688 1.871094 17.046875 0 13 0 Z"})],-1)],et=[M("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},[M("path",{d:"M22,6H8C6.895,6,6,6.895,6,8v14c0,1.105,0.895,2,2,2h14c1.105,0,2-0.895,2-2V8C24,6.895,23.105,6,22,6z"})],-1)],tt={class:"center"},rt=[M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[M("path",{d:"M 4 6 C 3.448 6 3 6.448 3 7 L 3 17 C 3 17.552 3.448 18 4 18 C 4.552 18 5 17.552 5 17 L 5 7 C 5 6.448 4.552 6 4 6 z M 11.949219 6.9296875 C 11.770297 6.9383906 11.589578 6.9962813 11.423828 7.1132812 L 5.65625 11.183594 C 5.09225 11.581594 5.09225 12.418406 5.65625 12.816406 L 11.423828 16.886719 C 12.086828 17.354719 13 16.881312 13 16.070312 L 13 7.9296875 C 13 7.3214375 12.485984 6.9035781 11.949219 6.9296875 z M 19.949219 6.9296875 C 19.770297 6.9383906 19.589578 6.9962813 19.423828 7.1132812 L 13.65625 11.183594 C 13.09225 11.581594 13.09225 12.418406 13.65625 12.816406 L 19.423828 16.886719 C 20.086828 17.354719 21 16.881312 21 16.070312 L 21 7.9296875 C 21 7.3214375 20.485984 6.9035781 19.949219 6.9296875 z"})],-1)],it={class:"image",alt:""},nt=["src"],ot=["src"],st=["src"],at=[M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[M("path",{d:"M 20 6 C 19.448 6 19 6.448 19 7 L 19 17 C 19 17.552 19.448 18 20 18 C 20.552 18 21 17.552 21 17 L 21 7 C 21 6.448 20.552 6 20 6 z M 4.0507812 6.9296875 C 3.5140156 6.9035781 3 7.3214375 3 7.9296875 L 3 16.070312 C 3 16.881312 3.9131719 17.354719 4.5761719 16.886719 L 10.34375 12.816406 C 10.90775 12.418406 10.90775 11.581594 10.34375 11.183594 L 4.5761719 7.1132812 C 4.4104219 6.9962813 4.2297031 6.9383906 4.0507812 6.9296875 z M 12.050781 6.9296875 C 11.514016 6.9035781 11 7.3214375 11 7.9296875 L 11 16.070312 C 11 16.881312 11.913172 17.354719 12.576172 16.886719 L 18.34375 12.816406 C 18.90775 12.418406 18.90775 11.581594 18.34375 11.183594 L 12.576172 7.1132812 C 12.410422 6.9962813 12.229703 6.9383906 12.050781 6.9296875 z"})],-1)],lt={class:"right"},ct=[M("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},[M("path",{d:"M 24.1875 3 C 23.277344 3 22.332031 3.4375 21.5625 4.21875 L 9.9375 15.8125 C 9.296875 16.378906 9 17.476563 9 18.25 L 9 31.75 C 9 32.515625 9.316406 33.609375 9.90625 34.125 L 21.5 45.6875 C 22.554688 46.761719 23.527344 47 24.15625 47 C 25.824219 47 27 45.476563 27 43.3125 L 27 6.3125 C 27 4.035156 25.539063 3 24.1875 3 Z M 3 15.96875 C 1.324219 15.96875 -0.03125 17.324219 -0.03125 19 L -0.03125 31 C -0.03125 32.675781 1.324219 34.03125 3 34.03125 L 7.46875 34.03125 C 7.140625 33.246094 7 32.410156 7 31.75 L 7 18.25 C 7 17.59375 7.164063 16.761719 7.5 15.96875 Z M 31.90625 18.96875 C 31.863281 18.976563 31.820313 18.988281 31.78125 19 C 31.40625 19.066406 31.105469 19.339844 31 19.703125 C 30.894531 20.070313 31.003906 20.460938 31.28125 20.71875 L 35.5625 25 L 31.28125 29.28125 C 30.882813 29.679688 30.882813 30.320313 31.28125 30.71875 C 31.679688 31.117188 32.320313 31.117188 32.71875 30.71875 L 37 26.4375 L 41.28125 30.71875 C 41.679688 31.117188 42.320313 31.117188 42.71875 30.71875 C 43.117188 30.320313 43.117188 29.679688 42.71875 29.28125 L 38.4375 25 L 42.71875 20.71875 C 43.042969 20.417969 43.128906 19.941406 42.933594 19.546875 C 42.742188 19.148438 42.308594 18.929688 41.875 19 C 41.652344 19.023438 41.441406 19.125 41.28125 19.28125 L 37 23.5625 L 32.71875 19.28125 C 32.511719 19.058594 32.210938 18.945313 31.90625 18.96875 Z"})],-1)],ut=[M("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},[M("path",{d:"M 24.1875 3 C 23.277344 3 22.332031 3.4375 21.5625 4.21875 L 9.9375 15.8125 C 9.296875 16.378906 9 17.476563 9 18.25 L 9 31.75 C 9 32.515625 9.316406 33.605469 9.90625 34.125 L 21.5 45.6875 C 22.554688 46.757813 23.527344 47 24.15625 47 C 25.824219 47 27 45.476563 27 43.3125 L 27 6.3125 C 27 4.035156 25.539063 3 24.1875 3 Z M 3 15.96875 C 1.324219 15.96875 -0.03125 17.324219 -0.03125 19 L -0.03125 31 C -0.03125 32.675781 1.324219 34.03125 3 34.03125 L 7.46875 34.03125 C 7.140625 33.246094 7 32.410156 7 31.75 L 7 18.25 C 7 17.59375 7.164063 16.761719 7.5 15.96875 Z M 30.53125 18.40625 C 30.046875 18.464844 29.679688 18.863281 29.65625 19.351563 C 29.632813 19.835938 29.960938 20.269531 30.4375 20.375 C 32.484375 20.910156 34 22.777344 34 25 C 34 27.222656 32.484375 29.089844 30.4375 29.625 C 29.902344 29.761719 29.582031 30.308594 29.71875 30.84375 C 29.855469 31.378906 30.402344 31.699219 30.9375 31.5625 C 33.851563 30.800781 36 28.136719 36 25 C 36 21.863281 33.847656 19.199219 30.9375 18.4375 C 30.804688 18.398438 30.667969 18.390625 30.53125 18.40625 Z"})],-1)],ft=[M("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},[M("path",{d:"M 24.1875 3 C 23.277344 3 22.332031 3.4375 21.5625 4.21875 L 9.9375 15.8125 C 9.296875 16.378906 9 17.476563 9 18.25 L 9 31.75 C 9 32.515625 9.316406 33.605469 9.90625 34.125 L 21.5 45.6875 C 22.554688 46.757813 23.527344 47 24.15625 47 C 25.824219 47 27 45.476563 27 43.3125 L 27 6.3125 C 27 4.035156 25.539063 3 24.1875 3 Z M 34.71875 12.125 C 34.273438 12.179688 33.917969 12.527344 33.855469 12.972656 C 33.789063 13.414063 34.027344 13.847656 34.4375 14.03125 C 38.339844 16.136719 41 20.246094 41 25 C 41 29.738281 38.351563 33.859375 34.46875 35.96875 C 33.984375 36.234375 33.808594 36.84375 34.078125 37.328125 C 34.34375 37.8125 34.953125 37.988281 35.4375 37.71875 C 39.945313 35.269531 43 30.484375 43 25 C 43 19.5 39.9375 14.695313 35.40625 12.25 C 35.226563 12.148438 35.019531 12.105469 34.8125 12.125 C 34.78125 12.125 34.75 12.125 34.71875 12.125 Z M 3 15.96875 C 1.324219 15.96875 -0.03125 17.324219 -0.03125 19 L -0.03125 31 C -0.03125 32.675781 1.324219 34.03125 3 34.03125 L 7.46875 34.03125 C 7.140625 33.246094 7 32.410156 7 31.75 L 7 18.25 C 7 17.59375 7.164063 16.761719 7.5 15.96875 Z M 30.53125 18.40625 C 30.046875 18.464844 29.679688 18.863281 29.65625 19.351563 C 29.632813 19.835938 29.960938 20.269531 30.4375 20.375 C 32.484375 20.910156 34 22.777344 34 25 C 34 27.222656 32.484375 29.089844 30.4375 29.625 C 29.902344 29.761719 29.582031 30.308594 29.71875 30.84375 C 29.855469 31.378906 30.402344 31.699219 30.9375 31.5625 C 33.851563 30.800781 36 28.136719 36 25 C 36 21.863281 33.847656 19.199219 30.9375 18.4375 C 30.804688 18.398438 30.667969 18.390625 30.53125 18.40625 Z"})],-1)],ht=[M("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"},[M("path",{d:"M 24.1875 3 C 23.277344 3 22.332031 3.4375 21.5625 4.21875 L 9.9375 15.8125 C 9.296875 16.378906 9 17.476563 9 18.25 L 9 31.75 C 9 32.515625 9.316406 33.605469 9.90625 34.125 L 21.5 45.6875 C 22.554688 46.757813 23.527344 47 24.15625 47 C 25.824219 47 27 45.476563 27 43.3125 L 27 6.3125 C 27 4.035156 25.539063 3 24.1875 3 Z M 38.28125 6.8125 C 37.84375 6.886719 37.507813 7.242188 37.457031 7.683594 C 37.410156 8.125 37.652344 8.546875 38.0625 8.71875 C 44.011719 11.71875 48.0625 17.871094 48.0625 25 C 48.0625 32.128906 44.011719 38.28125 38.0625 41.28125 C 37.695313 41.40625 37.4375 41.734375 37.394531 42.117188 C 37.351563 42.503906 37.535156 42.878906 37.867188 43.082031 C 38.195313 43.28125 38.613281 43.273438 38.9375 43.0625 C 45.539063 39.730469 50.0625 32.894531 50.0625 25 C 50.0625 17.105469 45.539063 10.269531 38.9375 6.9375 C 38.765625 6.839844 38.570313 6.796875 38.375 6.8125 C 38.34375 6.8125 38.3125 6.8125 38.28125 6.8125 Z M 34.71875 12.125 C 34.273438 12.179688 33.917969 12.527344 33.855469 12.972656 C 33.789063 13.414063 34.027344 13.847656 34.4375 14.03125 C 38.339844 16.136719 41 20.246094 41 25 C 41 29.738281 38.351563 33.859375 34.46875 35.96875 C 33.984375 36.234375 33.808594 36.84375 34.078125 37.328125 C 34.34375 37.8125 34.953125 37.988281 35.4375 37.71875 C 39.945313 35.269531 43 30.484375 43 25 C 43 19.5 39.9375 14.695313 35.40625 12.25 C 35.226563 12.148438 35.019531 12.105469 34.8125 12.125 C 34.78125 12.125 34.75 12.125 34.71875 12.125 Z M 3 15.96875 C 1.324219 15.96875 -0.03125 17.324219 -0.03125 19 L -0.03125 31 C -0.03125 32.675781 1.324219 34.03125 3 34.03125 L 7.46875 34.03125 C 7.140625 33.246094 7 32.410156 7 31.75 L 7 18.25 C 7 17.59375 7.164063 16.761719 7.5 15.96875 Z M 30.53125 18.40625 C 30.046875 18.464844 29.679688 18.863281 29.65625 19.351563 C 29.632813 19.835938 29.960938 20.269531 30.4375 20.375 C 32.484375 20.910156 34 22.777344 34 25 C 34 27.222656 32.484375 29.089844 30.4375 29.625 C 29.902344 29.761719 29.582031 30.308594 29.71875 30.84375 C 29.855469 31.378906 30.402344 31.699219 30.9375 31.5625 C 33.851563 30.800781 36 28.136719 36 25 C 36 21.863281 33.847656 19.199219 30.9375 18.4375 C 30.804688 18.398438 30.667969 18.390625 30.53125 18.40625 Z"})],-1)],dt={class:"rounded-right"},pt=[M("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},[M("path",{d:"M 8.5 7 C 5.4802259 7 3 9.4802259 3 12.5 L 3 35.5 C 3 38.519774 5.4802259 41 8.5 41 L 39.5 41 C 42.519774 41 45 38.519774 45 35.5 L 45 12.5 C 45 9.4802259 42.519774 7 39.5 7 L 8.5 7 z M 8.5 10 L 39.5 10 C 40.898226 10 42 11.101774 42 12.5 L 42 35.5 C 42 36.898226 40.898226 38 39.5 38 L 28 38 L 28 29.5 C 28 26.480763 25.519237 24 22.5 24 L 6 24 L 6 12.5 C 6 11.101774 7.1017741 10 8.5 10 z M 37.470703 12.986328 A 1.50015 1.50015 0 0 0 37.310547 13 L 32.5 13 A 1.50015 1.50015 0 1 0 32.5 16 L 33.878906 16 L 28.439453 21.439453 A 1.50015 1.50015 0 1 0 30.560547 23.560547 L 36 18.121094 L 36 19.5 A 1.50015 1.50015 0 1 0 39 19.5 L 39 14.673828 A 1.50015 1.50015 0 0 0 37.470703 12.986328 z M 6 27 L 22.5 27 C 23.892763 27 25 28.107237 25 29.5 L 25 38 L 8.5 38 C 7.1017741 38 6 36.898226 6 35.5 L 6 27 z"})],-1)],mt=[M("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},[M("path",{d:"M 8.5 7 C 5.4802259 7 3 9.4802259 3 12.5 L 3 35.5 C 3 38.519774 5.4802259 41 8.5 41 L 39.5 41 C 42.519774 41 45 38.519774 45 35.5 L 45 12.5 C 45 9.4802259 42.519774 7 39.5 7 L 8.5 7 z M 8.5 10 L 39.5 10 C 40.898226 10 42 11.101774 42 12.5 L 42 35.5 C 42 36.898226 40.898226 38 39.5 38 L 28 38 L 28 29.5 C 28 26.480763 25.519237 24 22.5 24 L 6 24 L 6 12.5 C 6 11.101774 7.1017741 10 8.5 10 z M 37.470703 12.986328 A 1.50015 1.50015 0 0 0 36.439453 13.439453 L 31 18.878906 L 31 17.5 A 1.50015 1.50015 0 0 0 29.476562 15.978516 A 1.50015 1.50015 0 0 0 28 17.5 L 28 22.277344 A 1.50015 1.50015 0 0 0 29.720703 24 L 34.5 24 A 1.50015 1.50015 0 1 0 34.5 21 L 33.121094 21 L 38.560547 15.560547 A 1.50015 1.50015 0 0 0 37.470703 12.986328 z M 6 27 L 22.5 27 C 23.892763 27 25 28.107237 25 29.5 L 25 38 L 8.5 38 C 7.1017741 38 6 36.898226 6 35.5 L 6 27 z"})],-1)],gt={class:"shadow-top"},vt={class:"title"},yt={class:"album"},wt={key:0,class:"loading"},Ct=[M("h1",null,"Loading ...",-1)];Ne.render=function(e,t,r,i,n,o){return x(),F("div",Ve,[(x(),P(T,{to:"body",disabled:!n.fullScreen},[M("div",{class:k(["MediaPlayer",o.mediaPlayerClass()]),style:O(o.mediaPlayerStyle),ref:"container"},[M("div",Ze,[n.coverImage?(x(),F("img",{key:0,class:k([" "+n.fileType+" ","coverImage"]),src:n.coverImage,alt:""},null,10,Ue)):E("",!0),M("video",{class:k(" "+n.fileType+" "),name:"media",ref:"audio"},null,2)],512),De,M("div",Ge,[M("div",Ke,[M("input",{type:"range",demo:"colors",min:"0",value:"0",max:n.duration,ref:"progress",onChange:t[0]||(t[0]=e=>o.seekTo(e.target.value)),onMousedown:t[1]||(t[1]=e=>n.seeking=!0),onMouseup:t[2]||(t[2]=e=>n.seeking=!1),onMouseleave:t[3]||(t[3]=e=>n.seeking=!1)},null,40,Ye)]),M("div",He,S(this.formattedCurrentTime),1),M("div",qe,[M("div",Je,[M("div",{class:k(["shuffle",{active:n.shuffle}]),onClick:t[4]||(t[4]=e=>n.shuffle=!n.shuffle)},Qe,2),M("div",{class:k(["repeat",{active:n.repeat}]),onClick:t[5]||(t[5]=e=>n.repeat=!n.repeat)},Xe,2),M("div",{class:"stop",onClick:t[6]||(t[6]=(...e)=>o.onStopClicked&&o.onStopClicked(...e))},et)]),M("div",tt,[M("div",{class:"previous",onClick:t[7]||(t[7]=(...e)=>o.playPrev&&o.playPrev(...e))},rt),M("div",{class:"play",onClick:t[8]||(t[8]=(...e)=>o.togglePlayPause&&o.togglePlayPause(...e))},[M("div",it,[M("img",{class:"idle",src:n.playing?n.Pause:n.PlayIdle,alt:""},null,8,nt),M("img",{class:"hover",src:n.playing?n.Pause:n.PlayIdle,alt:""},null,8,ot),M("img",{class:"active",src:n.playing?n.Pause:n.PlayIdle,alt:""},null,8,st)])]),M("div",{class:"next",onClick:t[9]||(t[9]=(...e)=>o.playNext&&o.playNext(...e))},at)]),M("div",lt,[M("div",{class:"volume",onWheel:t[14]||(t[14]=(...e)=>o.onVolumeWheelMove&&o.onVolumeWheelMove(...e))},[0===n.volume?(x(),F("div",{key:0,onClick:t[10]||(t[10]=(...e)=>o.toggleMute&&o.toggleMute(...e)),class:"mute"},ct)):E("",!0),n.volume>0&&n.volume<.3?(x(),F("div",{key:1,onClick:t[11]||(t[11]=(...e)=>o.toggleMute&&o.toggleMute(...e)),class:"low"},ut)):E("",!0),n.volume>=.3&&n.volume<=.6?(x(),F("div",{key:2,onClick:t[12]||(t[12]=(...e)=>o.toggleMute&&o.toggleMute(...e)),class:"medium"},ft)):E("",!0),n.volume>.6?(x(),F("div",{key:3,onClick:t[13]||(t[13]=(...e)=>o.toggleMute&&o.toggleMute(...e)),class:"high"},ht)):E("",!0)],32),j(M("input",{class:"volume-range",type:"range",min:"0",max:"1",step:"0.05","onUpdate:modelValue":t[15]||(t[15]=e=>n.volume=e),onWheel:t[16]||(t[16]=(...e)=>o.onVolumeWheelMove&&o.onVolumeWheelMove(...e)),onChange:t[17]||(t[17]=(...e)=>o.onVolumeChange&&o.onVolumeChange(...e))},null,544),[[$,n.volume]])])]),M("div",dt,[n.fullScreen?E("",!0):(x(),F("div",{key:0,class:"full-screen",onClick:t[18]||(t[18]=e=>n.fullScreen=!0)},pt)),n.fullScreen?(x(),F("div",{key:1,class:"exit-full-screen",onClick:t[19]||(t[19]=e=>n.fullScreen=!1)},mt)):E("",!0)])]),M("div",gt,[M("div",vt,S(n.title),1),M("div",yt,S(n.album),1)]),n.loading?(x(),F("div",wt,Ct)):E("",!0)],6)],8,["disabled"]))],512)};export{Ne as default};
