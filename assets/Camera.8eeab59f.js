var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(t,o,s)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s,n=(e,t)=>{for(var o in t||(t={}))i.call(t,o)&&a(e,o,t[o]);if(s)for(var o of s(t))r.call(t,o)&&a(e,o,t[o]);return e};import{i as l,p as c,r as d}from"./index.48072050.js";import{o as f,c as h,F as b,b as p,n as u}from"./vendor.957100f5.js";const v=(g=n(n({},l("$fs","$snd")),c({file:c.obj(null)})),t(g,o({mounted(){this.file||navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}}).then((e=>{this.$refs.video.srcObject=e}))},beforeUnmount(){this.$refs.video&&this.$refs.video.srcObject.getTracks().forEach((e=>{e.stop()}))},methods:{takePhoto(){const e=document.createElement("canvas");e.width=this.$refs.video.clientWidth,e.height=this.$refs.video.clientHeight,e.getContext("2d").drawImage(this.$refs.video,0,0,e.width,e.height);const t=`Photo ${Date.now()}.jpg`,o=`C:/User/Pictures/${t}`;this.$snd.playSound("/win7/assets/notif.e134873c.wav"),this.$fs.createNewFile(this.$fs.fileObject(o,"image",{value:e.toDataURL()})),this.$fs.createNewFile(this.$fs.fileObject(`C:/User/Desktop/${t}`,"shortcut",{src:o}))}},style:({className:e})=>[e("camera",{position:"relative","& > video, & > img":{width:"100%",height:"100%",border:"none",resize:"none",objectFit:"cover"},"& > .button":{position:"absolute",bottom:"15px",left:"50%",transform:"translateX(-50%)",border:"0",borderRadius:"20px",padding:"15px",color:"#fff",fontWeight:"bold",cursor:"pointer",background:`linear-gradient(180deg,\n            ${d([200,0,0],.8)} 0%,\n            ${d([214,0,0],.8)} 47%,\n            ${d([132,0,0],.8)} 53%,\n            ${d([170,0,0],.8)} 100%\n          )`,"&:not(.disabled):hover, &:not(.disabled):focus":{filter:"brightness(1.2)"},"&:not(.disabled):active":{filter:"brightness(0.8)"},"&.disabled":{filter:"grayscale(1)"}}})]})));var g;const m={ref:"video",muted:"",autoplay:"",playsinline:""},$=["src"];v.render=function(e,t,o,s,i,r){return f(),h("div",{class:u(e.$style.camera)},[e.file?(f(),h("img",{key:1,src:e.file.data.value},null,8,$)):(f(),h(b,{key:0},[p("video",m,null,512),p("span",{class:"button",onClick:t[0]||(t[0]=(...e)=>r.takePhoto&&r.takePhoto(...e))}," Take Photo ")],64))],2)};export{v as default};
