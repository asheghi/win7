var t=Object.defineProperty,a=Object.defineProperties,e=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(a,e,s)=>e in a?t(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,o=(t,a)=>{for(var e in a||(a={}))r.call(a,e)&&n(t,e,a[e]);if(s)for(var e of s(a))i.call(a,e)&&n(t,e,a[e]);return t};import{i as l,p as h,c,d as p,g as d,r as u}from"./index.46a6af52.js";import{p as b,r as f,o as m,c as g,b as y,n as x,t as k,w,q as v,k as P,y as C}from"./vendor.957100f5.js";const $=(O=o(o({},l("$fs","$wm","$snd")),h({filePath:h.obj(null),wmId:h.any()})),a(O,e({components:{FilesContainer:c},watch:{path(t,a){this.updateTaskbar()}},data(){return{path:this.filePath?this.filePath:"/",search:null}},computed:{pathBar(){if(!this.path||"/"===this.path)return"My Computer";const t=p(this.path);return t.startsWith("\\")?t.slice(1):t},searchPlaceholder(){const t=this.path;return`Search in ${b.basename(t)||"Computer"}`},filesContainerProps(){const t={path:this.path||"/"};return this.search&&this.search.trim().length&&(t.search=this.search),t}},methods:{click(t){return"directory"===d(t)&&(this.$snd.playSound("/win7/assets/navigate.682c8a7c.wav"),this.path=t,!0)},back(){this.$snd.playSound("/win7/assets/navigate.682c8a7c.wav"),this.search?this.search=null:this.path.includes("/")&&this.path.length>1?this.path=this.path.substr(0,this.path.lastIndexOf("/")):this.path="/"},updateTaskbar(){this.$wm.updateToolbarTitle(this.wmId,this.path?b.basename(this.path):"Computer")}},style:({className:t})=>[t("myComputer",{display:"flex",flexDirection:"column"}),t("pathBar",{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"nowrap",marginBottom:"6px","& > .back":{backgroundImage:'url("/win7/assets/back.07364e15.png")',width:"32px",height:"32px",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain",cursor:"pointer",marginRight:"5px",transition:"filter 0.1s","&:not(.disabled):hover, &:not(.disabled):focus":{filter:"brightness(1.2)"},"&:not(.disabled):active":{filter:"brightness(0.8)"},"&.disabled":{filter:"grayscale(1)"}},"& > .path, & > .search":{height:"24px",lineHeight:"24px",padding:"0 5px",fontSize:"15px",border:`solid 1px ${u(1,.5)}`,background:u(255,1),borderRadius:"2px"},"& > .path":{flexGrow:1,color:u(0,1),marginRight:"5px"}}),t("content",{background:u(255,1),flexGrow:1,position:"relative"})]})));var O;const j={class:"path"},I=["placeholder"];$.render=function(t,a,e,s,r,i){const n=f("FilesContainer");return m(),g("div",{class:x([t.$style.myComputer,"no-border"])},[y("div",{class:x(t.$style.pathBar)},[y("span",{class:x(["back",0===r.path.length?"disabled":""]),onClick:a[0]||(a[0]=(...t)=>i.back&&i.back(...t))},null,2),y("div",j,k(i.pathBar),1),w(y("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>r.search=t),class:"search",placeholder:i.searchPlaceholder},null,8,I),[[v,r.search]])],2),P(n,C({class:t.$style.content},i.filesContainerProps,{"file-props":{darkText:!0,onClick:i.click}}),null,16,["class","file-props"])],2)};export{$ as default};
