var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,i=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&n(e,t,a[t]);return e};import{i as l,p as c,_ as d,a as g,f as p,e as m,b as f}from"./index.5cc0c64f.js";import{o as u,c as b,b as h,n as y,F as w,s as k,a as v}from"./vendor.c20d8341.js";const j=(O=i(i({name:"ChangeBackground"},l("$wm","$fs","$cnf")),c({file:c.obj(null),wmId:c.any()})),a(O,t({data:()=>({list:[],loading:!0}),async mounted(){await d();const e=await g("/C:/Windows/Wallpapers");for(const a of e)new Promise((async e=>{const t=await p(a),s=new Uint8Array(t);this.list.push({file:a,src:"data:image/png;base64,"+m(s)})}));this.loading=!1},methods:{changeBackground(e){this.$cnf.setConfig({wallpaperPath:e.file})}},style:({className:e})=>[e("fill",{background:"white",padding:"1rem"}),e("content",{width:f(800),margin:"0 auto",background:"white"}),e("box",{width:"100%",height:f(300),overflowY:"scroll",overflowX:"hide",border:"1px solid black",borderRadius:f(2),padding:"1rem 0",textAlign:"center",img:{margin:".5rem"}}),e("head",{fontSize:"1.25rem",marginBottom:f(16)}),e("desc",{marginBottom:"2rem"})]})));var O;const $=["src","onClick"],C={key:0,class:"loading"},P=[h("p",null,"loading...",-1)];j.render=function(e,a,t,s,o,r){return u(),b("div",{class:y(e.$style.fill)},[h("div",{class:y(e.$style.content)},[h("h4",{class:y(e.$style.head)}," Choose your desktop background ",2),h("p",{class:y(e.$style.desc)}," Click a picture to make it your desktop background. ",2),h("div",{class:y(e.$style.box)},[(u(!0),b(w,null,k(o.list,((e,a)=>(u(),b("img",{key:a,width:"90",height:"60",src:e.src,alt:"",onClick:a=>r.changeBackground(e)},null,8,$)))),128)),o.loading?(u(),b("div",C,P)):v("",!0)],2)],2)],2)};export{j as default};
